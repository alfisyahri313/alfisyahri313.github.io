<!DOCTYPE html>
<html>
	<head>
		<!-- <script src="https://www.gstatic.com/firebasejs/7.9.2/firebase-app.js"></script> -->

		<!-- If you enabled Analytics in your project, add the Firebase SDK for Analytics -->
		<!-- <script src="https://www.gstatic.com/firebasejs/7.9.2/firebase-analytics.js"></script> -->
	  
		<!-- Add Firebase products that you want to use -->
		<!-- <script src="https://www.gstatic.com/firebasejs/7.9.2/firebase-auth.js"></script>
		<script src="https://www.gstatic.com/firebasejs/7.9.2/firebase-firestore.js"></script> -->
	  

		<title>Alfi Syahri</title>
				<!-- link to main stylesheet -->
		<link rel="stylesheet" type="text/css" href="/css/main.css">
		
	<!-- <meta http-equiv="Content-Security-Policy" content="
							    default-src 'self'; 
							    script-src 'nonce-8IBTHwOdqNKAWeKl7plt8g==';
							    img-src 'self' www.googletagmanager.com https://ssl.gstatic.com https://www.gstatic.com https://www.google-analytics.com https://googleads.g.doubleclick.net https://www.google.com https://www.google.co.id data:; 
							    style-src 'self' 'unsafe-inline' https://tagmanager.google.com https://fonts.googleapis.com www.googletagmanager.com;
							    connect-src 'self' https://tracking.js https://www.google-analytics.com https://analytics.google.com https://api.ipregistry.co http://localhost:8080/ https://stats.g.doubleclick.net;
							    font-src https://fonts.gstatic.com data:;
							    frame-src https://bid.g.doubleclick.net;
							   "> -->
		

<!-- <script>
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
	ga('create', 'UA-155278798-6', 'auto');
	ga(function(tracker) {
					console.log(tracker);
				});
</script> -->
		<!-- Google Tag Manager
	<script >(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
	new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
	j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
	'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
	})(window,document,'script','dataLayer','GTM-TD263X2');
	

	</script> -->
	
	
	<!-- End Google Tag Manager -->		

	<!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
	new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
	j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
	'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
	})(window,document,'script','dataLayer','GTM-M98HBGB');</script>
	<!-- End Google Tag Manager -->

	<!-- Google Tag Manager -->
	<!-- <script id='GTMSnippet'nonce='8IBTHwOdqNKAWeKl7plt8g=='>
	(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
	new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
	j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
	'https://www.googletagmanager.com/gtm.js?id='+i+dl;var n=d.querySelector('[nonce]');
	n&&j.setAttribute('nonce',n.nonce||n.getAttribute('nonce'));f.parentNode.insertBefore(j,f);
	})(window,document,'script','dataLayer','GTM-TD263X2');
	</script> -->
	<!-- End Google Tag Manager -->

	<!-- Google Tag Manager -->	
<!-- 	<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
	new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
	j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
	'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
	})(window,document,'script','dataLayer','GTM-T8MQ8Z');</script> -->
	<!-- (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
		(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
		m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;var n = s.querySelector('[nonce]');
		n && a.setAttribute('nonce', n.nonce || n.getAttribute('nonce'));m.parentNode.insertBefore(a,m)
		})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
		ga('create', 'UA-155278798-6', 'auto'); -->

	<!-- End Google Tag Manager 
	
	
	-->
	</head>
<!-- 	<script>
		// Your web app's Firebase configuration
		/*var firebaseConfig = {
			apiKey: "AIzaSyB4UUAd1uk6qZvYNlTagh9NnXPKhPraF3M",
			authDomain: "fir-github-project.firebaseapp.com",
			databaseURL: "https://fir-github-project.firebaseio.com",
			projectId: "fir-github-project",
			storageBucket: "fir-github-project.appspot.com",
			messagingSenderId: "550147339562",
			appId: "1:550147339562:web:b91237f3b8167876815a53",
			measurementId: "G-GT70ZZW323"
		};
		// Initialize Firebase
		firebase.initializeApp(firebaseConfig);
		firebase.analytics();*/
		</script> -->
	<body>
<!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-TD263X2"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager (noscript) -->
		
		<!--nav>
    		<ul>
        		<li><a href="/">Home</a></li>
	        	<li><a href="/about">About</a></li>
        		<li><a href="/cv">CV</a></li>
        		<li><a href="/blog">Blog</a></li>
    		</ul>
		</nav-->
		<div class="container">
    		<div class="blurb">
        		<h1 id="title">This is Home</h1>
				<p id="content">This is an implementation of Single Page Application and tracking using GTM</p>
				<p>Just click this link to go to <a id="about">About page</a></p>
				<p>Just click this link to go to <a id="home">Home page</a></p>
				<p>Just click this link to go to <a id="replace">Replace history</a></p>
				<p>Just click this link to go to <a id="back">Back one page</a></p>
				<p>Link to go to gitlab domain<a href="https://alfisyahri313.gitlab.io/">Here</a></p>
				<p>Link to go to Other Page in this domain<a href="https://alfisyahri313.github.io/other/page1">Here</a></p>
				<p>Link to go to IKEA<a href="https://ikea.com">Here</a></p>
				<p>Link to go to web owner domain <a href="https://unblushing-hierarch.000webhostapp.com/">Web Gio</a></p>
				<div id="d"></div> 
				<script>document.getElementById("d").innerHTML = "<b>document.cookie:</b> " + document.cookie</script>

				<iframe src="https://unblushing-hierarch.000webhostapp.com/" width="900" height="600"></iframe>

				<iframe src="https://alfisyahri313.gitlab.io/" width="900" height="600"></iframe>
				<!-- <ifame src="https://www.cxomedia.id/embed/streaming?smartautoplay=true" width="900" height="600"></ifame> -->

<!-- 
				<button on-click="signInWithGoogle()">Sign In With Google</button>
				<button on-click="signOut()">Sign Out</button> -->
			</div><!-- /.blurb -->

			
		
		<div class="blurb"><div>	
		<!-- <iframe src="https://alfisyahri313.gitlab.io" id="decorateMe"height="200" width="300" title="Gitlab Iframe"></iframe> -->
			
		</div></div>
			
		</div><!-- /.container -->

		<footer>
    		<ul>
        		<li><a href="mailto:alfisyahri313@gmail.com">email</a></li>
        		<li><a href="https://github.com/alfisyahri313" target="_blank">github.com/alfisyahri313</a></li>
			</ul>
		</footer>

		<script>
			function createCookie(name, value, days) {
				var expires;
				if (days) {
					var date = new Date();
					date.setTime(date.getTime() + (days * 24 * 60 * 60 * 1000));
					expires = "; expires=" + date.toGMTString();
				}
				else {
					expires = "";
				}
				document.cookie = name + "=" + value + "; SameSite=Lax; SameParty; Secure"+ expires + "; path=/" ;
			}

			function getCookie(c_name) {
				if (document.cookie.length > 0) {
					c_start = document.cookie.indexOf(c_name + "=");
					if (c_start != -1) {
						c_start = c_start + c_name.length + 1;
						c_end = document.cookie.indexOf(";", c_start);
						if (c_end == -1) {
							c_end = document.cookie.length;
						}
						return unescape(document.cookie.substring(c_start, c_end));
					}
				}
				return "";
			}

			if(getCookie("globalUid") === ""){
				var id = 'uid_' + Math.random().toString(36).substr(2, 9);
				createCookie("globalUid", id, 365)
			}
		</script>

		<script type="module">
			// Import the functions you need from the SDKs you need
			import { initializeApp } from "https://www.gstatic.com/firebasejs/9.6.9/firebase-app.js";
			import { getAnalytics, logEvent } from "https://www.gstatic.com/firebasejs/9.6.9/firebase-analytics.js";
			// TODO: Add SDKs for Firebase products that you want to use
			// https://firebase.google.com/docs/web/setup#available-libraries
		
			// Your web app's Firebase configuration
			// For Firebase JS SDK v7.20.0 and later, measurementId is optional
			const firebaseConfig = {
			apiKey: "AIzaSyDsBVzzLfTbSJAK6XKcnu4-OH9nC40B9Og",
			authDomain: "revivalpha.firebaseapp.com",
			databaseURL: "https://revivalpha.firebaseio.com",
			projectId: "revivalpha",
			storageBucket: "revivalpha.appspot.com",
			messagingSenderId: "509012728698",
			appId: "1:509012728698:web:978ada770edd95dc4614c3",
			measurementId: "G-TEST00F4HZ"
			};
		
			// Initialize Firebase
			const app = initializeApp(firebaseConfig);
			const analytics = getAnalytics();


			// A pair of jeggings
			const item_jeggings = {
			item_id: 'SKU_123',
			item_name: 'jeggings',
			item_category: 'pants',
			item_variant: 'black',
			item_brand: 'Google',
			price: 9.99
			};

			// A pair of boots
			const item_boots = {
			item_id: 'SKU_456',
			item_name: 'boots',
			item_category: 'shoes',
			item_variant: 'brown',
			item_brand: 'Google',
			price: 24.99
			};

			// A pair of socks
			const item_socks = {
			item_id: 'SKU_789',
			item_name: 'ankle_socks',
			item_category: 'socks',
			item_variant: 'red',
			item_brand: 'Google',
			price: 5.99
			};


			// Prepare ecommerce bundle
			const params10 = {
			transaction_id: 'T12345',
			affiliation: 'Google Store',
			currency: 'USD',
			value: 14.98, // Total Revenue
			tax: 2.85,
			shipping: 5.34,
			coupon: 'SUMMER_FUN',
			items: [item_jeggings]
			};

			// Log event
			// const analytics = getAnalytics();
			logEvent(analytics, 'purchase', params10);
		</script>
		
		<!-- <script nonce="this.nonce=document.getElementById('GTMSnippet').nonce">
			alert(document.domain);
		</script> -->
		
<!-- 		<script>
			var transaction_detail = {};

			(async() => {
				console.log("waiting for variable");
				while(!window.hasOwnProperty("ga"))// define the condition as you like
					await new Promise(resolve => setTimeout(resolve, 1000));
				let cid = ga.getAll()[0].get('clientId');
				transaction_detail['cid'] = cid;
				console.log(transaction_detail);
			})();
		</script> -->
<!-- 		<script>
			document.getElementById("about").addEventListener("click",about);
			document.getElementById("home").addEventListener("click",home);
			document.getElementById("replace").addEventListener("click",replace);
			document.getElementById("back").addEventListener("click",back);

			function about(){
				document.getElementById("title").innerText = "This is About Page";
				window.history.pushState('page2', 'Title', '/about');
			}
			function home(){
				document.getElementById("title").innerText = "This is Home Page";
				window.history.pushState('page2', 'Title', '/home');
			}
			function replace(){
				document.getElementById("title").innerText = "This is Replace Page";
				window.history.replaceState('page2', 'Title', '/replace');
			}
			function back(){
				document.getElementById("title").innerText = "This is Back Page";
				window.history.go(-1);
			}
			
		</script>		 -->

<!-- 		<script>
			function signInWithGoogle(){
				var provider = new firebase.auth.GoogleAuthProvider();
				provider.addScope('profile');
				provider.addScope('email');
				firebase.auth().signInWithPopup(provider).then(function(result) {
				// This gives you a Google Access Token.
				var token = result.credential.accessToken;
				// The signed-in user info.
				var user = result.user;
				});
			}

			function signOut(){
				firebase.auth().signOut();

				authstate();
			}

			function authstate(){
				firebase.auth().onAuthStateChanged(function (user) {
					if (user) {
						console.log('user', user);
					} else {
						console.log('signout');
					}
				});
			}

		</script> -->
		
<!-- 		<script>
// 			window.fbAsyncInit = function() {
// 			FB.init({
// 				appId      : '2494008540837301',
// 				cookie     : true,
// 				xfbml      : true,
// 				version    : 'v6.0'
// 			});
				
// 			FB.AppEvents.logPageView();   
				
// 			};
		
// 			(function(d, s, id){
// 			var js, fjs = d.getElementsByTagName(s)[0];
// 			if (d.getElementById(id)) {return;}
// 			js = d.createElement(s); js.id = id;
// 			js.src = "https://connect.facebook.net/en_US/sdk.js";
// 			fjs.parentNode.insertBefore(js, fjs);
// 			}(document, 'script', 'facebook-jssdk'));
		</script> -->

		<!-- <script>
			setTimeout(function(){
				ga(function(tracker) {
					console.log(tracker.get('clientId'));
				});
			}, 5000);
		</script> -->
	</body>
</html>
